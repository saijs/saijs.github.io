"use strict";(self.webpackChunksaijs=self.webpackChunksaijs||[]).push([["9418"],{1173:function(n,e,r){r.r(e),r.d(e,{default:()=>i});var s=r(2676),d=r(453);function t(n){let e=Object.assign({h1:"h1",a:"a",hr:"hr",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",p:"p",h2:"h2",pre:"pre",code:"code",ul:"ul",li:"li"},(0,d.ah)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.h1,{id:"未结束的字符串常量",children:["未结束的字符串常量",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#未结束的字符串常量",children:"#"})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.table,{children:["\n",(0,s.jsxs)(e.thead,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.th,{children:"Language"}),"\n",(0,s.jsx)(e.th,{children:"Message"}),"\n",(0,s.jsx)(e.th,{children:"Browser"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.tbody,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:"简体中文"}),"\n",(0,s.jsx)(e.td,{children:"未结束的字符串常量"}),"\n",(0,s.jsx)(e.td,{children:"IE"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:"繁体中文"}),"\n",(0,s.jsx)(e.td,{children:"無法判定字串常數的結尾"}),"\n",(0,s.jsx)(e.td,{children:"IE"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:"英文"}),"\n",(0,s.jsx)(e.td,{children:"Unterminated string constant"}),"\n",(0,s.jsx)(e.td,{children:"IE"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{}),"\n",(0,s.jsx)(e.td,{children:"unterminated string literal"}),"\n",(0,s.jsx)(e.td,{children:"Firefox"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{}),"\n",(0,s.jsx)(e.td,{children:"Unexpected token ILLEGAL"}),"\n",(0,s.jsx)(e.td,{children:"Chrome"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:"日文"}),"\n",(0,s.jsx)(e.td,{children:"終了していない文字列型の定数です。"}),"\n",(0,s.jsx)(e.td,{children:"IE"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:"西班牙"}),"\n",(0,s.jsx)(e.td,{children:"Constante de cadena sin terminar"}),"\n",(0,s.jsx)(e.td,{}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:"未知"}),"\n",(0,s.jsx)(e.td,{children:"Constante cha\xeene non termin\xe9e"}),"\n",(0,s.jsx)(e.td,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"一般由后端传的变量中带有换行符/引号造成，也有可能是编码造成的特殊字符异常。"}),"\n",(0,s.jsxs)(e.h2,{id:"案例",children:["案例",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#案例",children:"#"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"function show(value) {\n    alert(value);\n}\nvar script = '<script>show(\"test\\n\\r\");<\\/script>';\ndocument.write(script);\n"})}),"\n",(0,s.jsxs)(e.p,{children:["JavaScript 编码时把 ",(0,s.jsx)(e.code,{children:"\\n\\r"})," 转换为换行，最后输出在页面的 JavaScript 变成"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'show("test\n);\n'})}),"\n",(0,s.jsx)(e.p,{children:"所以造成 JavaScript 语法错误。"}),"\n",(0,s.jsxs)(e.p,{children:["使用 jsonp 获取后台输出的 html 页面容易出现此问题，需要在服务器端过滤 ",(0,s.jsx)(e.code,{children:"\\r\\n"})," 等特殊符号。"]}),"\n",(0,s.jsxs)(e.table,{children:["\n",(0,s.jsxs)(e.thead,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.th,{children:"Browser"}),"\n",(0,s.jsx)(e.th,{children:"Message"}),"\n",(0,s.jsx)(e.th,{children:"Number"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.tbody,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:"IE 6,7,8"}),"\n",(0,s.jsx)(e.td,{children:"未结束的字符串常量"}),"\n",(0,s.jsx)(e.td,{}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:"Chrome 22"}),"\n",(0,s.jsx)(e.td,{children:"Unexpected token ILLEGAL"}),"\n",(0,s.jsx)(e.td,{}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:"Firefox 21"}),"\n",(0,s.jsx)(e.td,{children:"unterminated string literal"}),"\n",(0,s.jsx)(e.td,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"相关异常",children:["相关异常",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#相关异常",children:"#"})]}),"\n",(0,s.jsxs)(e.h2,{id:"参考",children:["参考",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#参考",children:"#"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"http://www.emool.cn/archives/y2008/140.html",target:"_blank",rel:"noopener noreferrer",children:"javascript 未结束的字符串常量"})}),"\n"]})]})}function h(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,d.ah)(),n.components);return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(t,{...n})}):t(n)}let i=h;h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["wiki%2Funterminated-string-constant.md"]={toc:[{text:"案例",id:"案例",depth:2},{text:"相关异常",id:"相关异常",depth:2},{text:"参考",id:"参考",depth:2}],title:"未结束的字符串常量",headingTitle:"未结束的字符串常量",frontmatter:{}}}}]);