"use strict";(self.webpackChunksaijs=self.webpackChunksaijs||[]).push([["4224"],{4600:function(e,t,r){r.r(t),r.d(t,{default:()=>c});var n=r(2676),s=r(453);function a(e){let t=Object.assign({h1:"h1",a:"a",hr:"hr",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",p:"p",h2:"h2",pre:"pre",code:"code",ul:"ul",li:"li"},(0,s.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.h1,{id:"内存不够",children:["内存不够",(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#内存不够",children:"#"})]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsxs)(t.table,{children:["\n",(0,n.jsxs)(t.thead,{children:["\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.th,{children:"Language"}),"\n",(0,n.jsx)(t.th,{children:"Message"}),"\n",(0,n.jsx)(t.th,{children:"Browser"}),"\n",(0,n.jsx)(t.th,{}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.tbody,{children:["\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"简体中文"}),"\n",(0,n.jsx)(t.td,{children:"内存不够"}),"\n",(0,n.jsx)(t.td,{}),"\n",(0,n.jsx)(t.td,{}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"繁体中文"}),"\n",(0,n.jsx)(t.td,{children:"記憶體不足"}),"\n",(0,n.jsx)(t.td,{}),"\n",(0,n.jsx)(t.td,{}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"英文"}),"\n",(0,n.jsx)(t.td,{children:"out of memory"}),"\n",(0,n.jsx)(t.td,{}),"\n",(0,n.jsx)(t.td,{}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{}),"\n",(0,n.jsx)(t.td,{children:"Out of memory"}),"\n",(0,n.jsx)(t.td,{children:"IE9,Safari 5"}),"\n",(0,n.jsx)(t.td,{children:"Error"}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{}),"\n",(0,n.jsx)(t.td,{children:"allocation size overflow"}),"\n",(0,n.jsx)(t.td,{children:"Firefox 4"}),"\n",(0,n.jsx)(t.td,{children:"InternalError"}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{}),"\n",(0,n.jsx)(t.td,{children:"sad browser tab"}),"\n",(0,n.jsx)(t.td,{children:"Chrome 10"}),"\n",(0,n.jsx)(t.td,{children:"无法捕获，实测范例代码的结果是提示该脚本占用内存过多而不是出现 sad browser tab，然而在真正的脚本中死循环时，确实出现了 sad browser tab"}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{}),"\n",(0,n.jsxs)(t.td,{children:["my box ground to a crawl for several minutes;"," I ended up killing the process"]}),"\n",(0,n.jsx)(t.td,{children:"Opera 11"}),"\n",(0,n.jsx)(t.td,{}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"韩文"}),"\n",(0,n.jsx)(t.td,{children:"메모리 부족"}),"\n",(0,n.jsx)(t.td,{}),"\n",(0,n.jsx)(t.td,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"一般是由于递归太深，或出现巨大、甚至是无限循环，造成堆、栈溢出。"}),"\n",(0,n.jsx)(t.p,{children:"也有可能真的就是内存不够造成的。"}),"\n",(0,n.jsxs)(t.h2,{id:"案例",children:["案例",(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#案例",children:"#"})]}),"\n",(0,n.jsxs)(t.table,{children:["\n",(0,n.jsxs)(t.thead,{children:["\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.th,{children:"异常字段"}),"\n",(0,n.jsx)(t.th,{children:"值"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.tbody,{children:["\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"Message"}),"\n",(0,n.jsx)(t.td,{children:"메모리 부족"}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"Message"}),"\n",(0,n.jsx)(t.td,{children:"内存不够"}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"URL"}),"\n",(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://cashier.alipay.com/standard/payment/cashier.htm",target:"_blank",rel:"noopener noreferrer",children:"https://cashier.alipay.com/standard/payment/cashier.htm"})}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"File"}),"\n",(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://cashier.alipay.com/standard/payment/cashier.htm",target:"_blank",rel:"noopener noreferrer",children:"https://cashier.alipay.com/standard/payment/cashier.htm"})}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"Line"}),"\n",(0,n.jsx)(t.td,{children:"1"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsxs)(t.table,{children:["\n",(0,n.jsxs)(t.thead,{children:["\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.th,{children:"异常字段"}),"\n",(0,n.jsx)(t.th,{children:"值"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.tbody,{children:["\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"Message"}),"\n",(0,n.jsx)(t.td,{children:"内存不够"}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"URL"}),"\n",(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://cashier.alipay.com/standard/gateway/confirm.htm",target:"_blank",rel:"noopener noreferrer",children:"https://cashier.alipay.com/standard/gateway/confirm.htm"})}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"File"}),"\n",(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://a.alipayobjects.com/??static/ar/arale.array-1.1.js,static/ar/arale.hash-1.0.js,static/ar/arale.string-1.0.js,static/ar/arale.dom-1.1.js,static/ar/arale.event-1.1.js,static/ar/arale.uri-1.0.js,static/ar/arale.http-1.1.js,static/ar/arale.aspect-1.0.js,static/ar/arale.class-1.0.js,static/ar/arale.tmpl-1.0.js,static/ar/aralex.base-1.1.js,cashier/cashier.Widget-1.0.js,cashier/cashier.AsyncHtml-1.2.js,cashier/cashier.Tab-1.3.js,cashier/cashier.AlieditAmount-1.0.js,cashier/cashier.module-1.7.js,cashier/cashier.ProvinceSelect-1.0.js",target:"_blank",rel:"noopener noreferrer",children:"https://a.alipayobjects.com/??static/ar/arale.array-1.1.js,static/ar/arale.hash-1.0.js,static/ar/arale.string-1.0.js,static/ar/arale.dom-1.1.js,static/ar/arale.event-1.1.js,static/ar/arale.uri-1.0.js,static/ar/arale.http-1.1.js,static/ar/arale.aspect-1.0.js,static/ar/arale.class-1.0.js,static/ar/arale.tmpl-1.0.js,static/ar/aralex.base-1.1.js,cashier/cashier.Widget-1.0.js,cashier/cashier.AsyncHtml-1.2.js,cashier/cashier.Tab-1.3.js,cashier/cashier.AlieditAmount-1.0.js,cashier/cashier.module-1.7.js,cashier/cashier.ProvinceSelect-1.0.js"})}),"\n"]}),"\n",(0,n.jsxs)(t.tr,{children:["\n",(0,n.jsx)(t.td,{children:"Line"}),"\n",(0,n.jsx)(t.td,{children:"729"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"相关代码"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:'b=a.getOffsets(),d=c.getOffsets();return{left:d.left-b.left,top:d.top-b.top}},staticTips:[],showStaticTip:function(c,a,b){var d=c.attr("id"),e=this.staticTips[d]||c,b=b||{};if(e){this.staticTips[d]||(this.staticTips[d]=e);this.hideAllStaticTips();var d=this.getOffsets(a,b.parent),f=a.region(),g=f.bottom-f.top,f=f.right-f.left;"right"===b.position?e.setStyle({left:d.left+f+(b.offsetLeft||0)+"px",top:d.top+parseInt(g/2,10)+(b.offsetTop||0)+"px"}):"bottom"===b.position?e.setStyle({left:d.left+parseInt(f/\n2,10)+(b.offsetLeft||0)+"px",top:d.top+g+b.offsetTop+(b.offsetTop||0)+"px"}):e.setStyle({left:d.left+"px",top:d.top+"px"});e.attr("isbindevent")||(d=e.query(".j-apop-close"),d.length&&(E.on(d[0],"click",function(a){a.stopEvent();e.addClass("fn-hide")}),e.attr("isbindevent",!0)));e.removeClass("fn-hide");this.hasTipShow=!0;E.publish("cashier/common/showStaticTip",[c,a,b])}},hasTipShow:!1,staticTips:{},hideAllStaticTips:function(){for(var c in this.staticTips)this.staticTips[c]&&(this.staticTips[c].addClass("fn-hide"),\nE.publish("cashier/common/hideStaticTip",[this.staticTips[c]]));Cashier.Module.hasTipShow=!1},clickHideTip:function(c){E.subscribe("common/click/body",window,function(a){if(Cashier.Module.hasTipShow){for(var b=$(a.target),d=d||20,a=!1;d--&&b;){for(var e=b.attr("className"),f=0,g;g=c[f];f++)if(~e.indexOf(g)){a=!0;break}if(a)break;b=b.parent()}a||(Cashier.Module.hideAllStaticTips(),$E.publish("common/hideAllTip",[]))}})},init:function()}}(window);\nCashier.Module.Cookie={set:function(c,a,b){c=this._createCookieString(c,a,!0,b);return document.cookie=c},get:function(c){var a=this._parseCookieString(document.cookie);try{return a[c]}catch(b){return null}},_parseCookieString:function(c,a){var b={};if(arale.isString(c)&&0<c.length){var d=!1===a?function(a){return a}:decodeURIComponent;if(/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(c))for(var e=c.split(/;\\s/g),f=null,g=null,h=null,i=0,j=e.length;i<j;i++){h=e[i].match(/([^=]+)=/i);if(h instanceof Array)try{f=\ndecodeURIComponent(h[1]),g=d(e[i].substring(h[1].length+1))}catch(k){}else g=f=decodeURIComponent(e[i]);b[f]=g}}return b},_createCookieString:function(c,a,b,d){c=encodeURIComponent(c)+"="+(b?encodeURIComponent(a):a);arale.isObject(d)&&(d.expires instanceof Date&&(c+="; expires="+d.expires.toGMTString()),arale.isString(d.path)&&""!==d.path&&(c+="; path="+d.path),arale.isString(d.domain)&&""!==d.domain&&(c+="; domain="+d.domain),!0===d.secure&&(c+="; secure"));return c}};\n'})}),"\n",(0,n.jsxs)(t.h2,{id:"相关异常",children:["相关异常",(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#相关异常",children:"#"})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"/wiki/out-of-stack-space",children:"堆栈溢出"})}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.h2,{id:"延伸阅读",children:["延伸阅读",(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#延伸阅读",children:"#"})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"http://www.javascriptkit.com/javatutors/closuresleak/index.shtml",target:"_blank",rel:"noopener noreferrer",children:"JavaScript and memory leaks"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"http://stackoverflow.com/questions/3910044/ie6-7-8-out-of-memory",target:"_blank",rel:"noopener noreferrer",children:"IE6/7/8 Out of Memory?"})}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"http://www.bokeyy.com/post/javascript-out-of-memery-and-stack.html",target:"_blank",rel:"noopener noreferrer",children:"JavaScript 中的堆栈溢出和内存不足"})," ，\n",(0,n.jsx)(t.a,{href:"http://cautionsingularityahead.blogspot.com/2011/03/stack-overflow-and-out-of-memory-in.html",target:"_blank",rel:"noopener noreferrer",children:"英文原文"})]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"http://topic.csdn.net/t/20040825/15/3308385.html",target:"_blank",rel:"noopener noreferrer",children:"这个小程序怎会报内存不足？"}),' - 递归：setTimeout(func(), 4),\n正确的应该是 setTimeout(func, 4) 或但不建议的 setTimeout("func()", 4)']}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"http://topic.csdn.net/t/20050514/18/4006964.html",target:"_blank",rel:"noopener noreferrer",children:'javascript显10个图就出现"内存不够“的错误？'})," - 递归，同上。"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"http://www.itlea.com/thread-156893-1-1.html",target:"_blank",rel:"noopener noreferrer",children:"用ajax框架报内存不足错训"})," - 无限循环。"]}),"\n"]})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,s.ah)(),e.components);return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}let c=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["wiki%2Fout-of-memory.md"]={toc:[{text:"案例",id:"案例",depth:2},{text:"相关异常",id:"相关异常",depth:2},{text:"延伸阅读",id:"延伸阅读",depth:2}],title:"内存不够",headingTitle:"内存不够",frontmatter:{}}}}]);