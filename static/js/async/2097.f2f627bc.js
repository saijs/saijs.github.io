"use strict";(self.webpackChunksaijs=self.webpackChunksaijs||[]).push([["2097"],{9328:function(e,n,r){r.r(n),r.d(n,{default:()=>h});var t=r(2676),s=r(453);function a(e){let n=Object.assign({h1:"h1",a:"a",hr:"hr",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",p:"p",ol:"ol",li:"li",h2:"h2",pre:"pre",code:"code",ul:"ul"},(0,s.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"被编码的-uri-中包含非法字符",children:["被编码的 URI 中包含非法字符",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#被编码的-uri-中包含非法字符",children:"#"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.table,{children:["\n",(0,t.jsxs)(n.thead,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.th,{children:"Language"}),"\n",(0,t.jsx)(n.th,{children:"Message"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.tbody,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:"简体中文"}),"\n",(0,t.jsx)(n.td,{children:"被编码的 URI 中包含非法字符"}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{}),"\n",(0,t.jsx)(n.td,{children:"被解码的 URI 不是合法的编码"}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:"英文"}),"\n",(0,t.jsx)(n.td,{children:"The URI to be encoded contains an invalid character"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"多出现于 IE 浏览器中。由于 JScript 5.5 新增的 encodeURI，decodeURI，\nencodeURIComponent，decodeURIComponent 4个转码函数将汉字视为 3 个字节，\n而我们程序中比较常用的GB2312, GBK, UTF-8处理中文都是2字节的。"}),"\n",(0,t.jsx)(n.p,{children:"客户端解决方案：工具 -> 选项 -> 高级 -> 设置 -> 国际 -> 发送 UTF-8 URL."}),"\n",(0,t.jsx)(n.p,{children:"服务端解决方案："}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"后端变量的值是已经反转码好的。"}),"\n",(0,t.jsx)(n.li,{children:"然后端传输过来的编码每个字是 3 个字节长度。"}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"案例",children:["案例",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#案例",children:"#"})]}),"\n",(0,t.jsxs)(n.table,{children:["\n",(0,t.jsxs)(n.thead,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.th,{children:"异常字段"}),"\n",(0,t.jsx)(n.th,{children:"值"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.tbody,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:"Message"}),"\n",(0,t.jsx)(n.td,{children:"被编码的 URI 中包含非法字符 "}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:"URL"}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://cashier.alipay.com/standard/fastpay/fastPayCashier.htm",target:"_blank",rel:"noopener noreferrer",children:"https://cashier.alipay.com/standard/fastpay/fastPayCashier.htm"})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:"File"}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://a.alipayobjects.com/ar/??alipay.light.base-1.1.js,alipay.tracker-1.11.js,alipay.fmsmng.monitor-1.4.js",target:"_blank",rel:"noopener noreferrer",children:"https://a.alipayobjects.com/ar/??alipay.light.base-1.1.js,alipay.tracker-1.11.js,alipay.fmsmng.monitor-1.4.js"})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:"Line"}),"\n",(0,t.jsx)(n.td,{children:"68"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'var stack=[];light.each(obj,function(property,value){if(!property||!obj.hasOwnProperty(property)){return\n}stack.push(light.encode(property)+splitter+light.encode(value))});return stack.join(connector||"&")\n},unparam:function(text,splitter,connector){var obj={};if(!text){return obj}splitter=splitter||"=";\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"相关异常",children:["相关异常",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#相关异常",children:"#"})]}),"\n",(0,t.jsxs)(n.h2,{id:"参考",children:["参考",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#参考",children:"#"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://msdn.microsoft.com/zh-cn/library/061fh4cw%28v=VS.90%29.aspx",target:"_blank",rel:"noopener noreferrer",children:"JS5024：要编码的 URI 包含无效字符"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://msdn.microsoft.com/zh-cn/library/3aztces0%28v=vs.90%29.aspx",target:"_blank",rel:"noopener noreferrer",children:"JS5025：要解码的 URI 不是有效编码"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://blog.csdn.net/cuixiping/archive/2007/08/03/1723741.aspx",target:"_blank",rel:"noopener noreferrer",children:"“被解码的 URI 不是合法的编码” 的问题解决"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://www.cnblogs.com/walkingboy/archive/2007/01/26/encodeURIAndFormAction_Chinese.html",target:"_blank",rel:"noopener noreferrer",children:"encodeURI之URL中文参数问题"})}),"\n"]})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}let h=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["wiki%2Fthe-uri-to-be-encoded-contains-an-invalid-character.md"]={toc:[{text:"案例",id:"案例",depth:2},{text:"相关异常",id:"相关异常",depth:2},{text:"参考",id:"参考",depth:2}],title:"被编码的 URI 中包含非法字符",headingTitle:"被编码的 URI 中包含非法字符",frontmatter:{}}}}]);